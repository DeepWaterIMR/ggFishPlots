[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mikko Vihtakari. Author, maintainer.            Institute Marine Research","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Vihtakari M (2023). ggFishPlots: Visualise Calculate Life History Parameters Fisheries Science using 'ggplot2'. R package version 0.2.3, https://github.com/DeepWaterIMR/ggFishPlots.","code":"@Manual{,   title = {ggFishPlots: Visualise and Calculate Life History Parameters for Fisheries Science using 'ggplot2'},   author = {Mikko Vihtakari},   year = {2023},   note = {R package version 0.2.3},   url = {https://github.com/DeepWaterIMR/ggFishPlots}, }"},{"path":"/index.html","id":"ggfishplots","dir":"","previous_headings":"","what":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Visualise calculate life history parameters fisheries science using ggplot2. R package version 0.2.3","code":""},{"path":"/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"ggFishPlots package R allows quickly plotting calculating life history parameters required stock assessment models. package uses ggplot2 plotting tidyverse packages calculations. ggOceanMaps package developed Institute Marine Research. Note package comes absolutely warranty. bug reports code fixes warmly welcomed. See Contributions details. looking similar packages, make sure check AquaticLifeHistory FSA packages, well FishR webpage.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"package date version package can always found GitHub. CRAN version work shown shown examples website, try installing GitHub version. can using devtools remotes packages.","code":"devtools::install_github(\"DeepWaterIMR/ggFishPlots\")"},{"path":"/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"time writing, package produces four kinds plots: growth curves, maturity plots, length-weight relationships, catch curves. function returns ggplot2 plot estimated parameters text string can used Rmarkdown Shiny applications well data frame use parameters. elements returned list. package contains example data illustrate functionality.","code":""},{"path":"/index.html","id":"growth-curves","dir":"","previous_headings":"Usage","what":"Growth curves","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Note text params returned list together plot.  text object can rendered R markdown documents using results = 'asis' setting code chunk header (.e. {r, results = 'asis'}) cat() function replacing \"\\n\" \"\\  n\": von Bertalanffy growth function coefficients: Linf (asymptotic average length) = 91.2 cm +/- 88.3 - 94.6 (95% CIs) K (growth rate coefficient) = 0.0633 +/- 0.059 - 0.068 (95% CIs) t0 (age length 0) = -3.04 (years) +/- -3.337 - -2.769 (95% CIs) tmax (life span; t0 + 3/K) = 44.4 years Number included specimens = 10401 Total number measured = 618779 Excluded (length age missing): Length = 0; age = 608378","code":"library(ggFishPlots)  data(survey_ghl) # example data  head(survey_ghl) #> # A tibble: 6 × 5 #>     age sex   length weight maturity #>   <dbl> <chr>  <dbl>  <dbl>    <int> #> 1    NA <NA>      35     NA        0 #> 2    NA <NA>      43     NA        0 #> 3    NA <NA>      51     NA        0 #> 4    NA <NA>      31     NA        0 #> 5    NA <NA>      32     NA        0 #> 6    NA <NA>      32     NA        0  plot_growth(survey_ghl, length = \"length\", age = \"age\") #> $plot #>  #> $text #> [1] \"von Bertalanffy growth function coefficients:  \\n Linf (asymptotic average length) = 91.2 cm +/- 88.3 - 94.6 (95% CIs)  \\n K (growth rate coefficient) = 0.0633 +/- 0.059 - 0.068 (95% CIs)  \\n t0 (age at length 0) = -3.04 (years) +/- -3.337 - -2.769 (95% CIs)  \\n tmax (life span; t0 + 3/K) = 44.4 years  \\n Number of included specimens = 10401  \\n Total number of measured = 618779  \\n Excluded (length or age missing):  \\n Length = 0; age = 608378\" #>  #> $params #> # A tibble: 3 × 7 #>   term  estimate std.error statistic   p.value conf.low conf.high #>   <chr>    <dbl>     <dbl>     <dbl>     <dbl>    <dbl>     <dbl> #> 1 Sinf   91.2      1.51         60.3 0          88.3      94.6    #> 2 K       0.0633   0.00231      27.4 4.90e-160   0.0586    0.0680 #> 3 t0     -3.04     0.139       -21.8 1.71e-103  -3.34     -2.77 htmlcat <- function(text){   cat(gsub(pattern = \"\\n\", replacement = \"  \\n\", x = text)) }  htmlcat(plot_growth(survey_ghl)$text)"},{"path":"/index.html","id":"split-by-sex","dir":"","previous_headings":"Usage > Growth curves","what":"Split by sex","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Specifying length, age sex arguments omitted since argument names default example data. plot element returned time.  dashed lines Sinf. Data behind growth curves shown box plots default. possible plot data points defining boxplot = FALSE. can also force zero group curves know length . Assumed 14 cm . Zero group forcing strength 10 % number observations default can adjusted using force.zero.group.strength argument.","code":"plot_growth(survey_ghl, split.by.sex = TRUE)$plot plot_growth(survey_ghl, force.zero.group.length = 14, boxplot = FALSE)$plot"},{"path":[]},{"path":"/index.html","id":"l50-plots","dir":"","previous_headings":"Usage > Maturity plots","what":"L50 plots","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Maturity ogives estimated using logistic (family = binomial(link = \"logit\")) glm()  error bars represent 95% confidence intervals calculated model object using confint() function back-transformed original scale. grey stepped line binned average defined using length.bin.width argument. function also contains option bootstrap confidence intervals (CIs) produce narrower CIs. Bootstrapping probably correct way estimating CIs application. Using 10 replicates save processing time. real application use least 1000.","code":"plot_maturity(survey_ghl, length = \"length\", maturity = \"maturity\") #> $plot #>  #> $text #> [1] \"50% maturity at length (L50) based on logit regressions:\\n54.784 cm. 95% confidence intervals: 52.852 - 56.787\\n  Number of specimens: 64265.\\n Confidence intervals estimated from the glm object.\" #>  #> $params #>       mean   ci.min ci.max  sex intercept     slope     n #> 1 54.78361 52.85249 56.787 both -5.755492 0.1050587 64265 plot_maturity(survey_ghl, bootstrap.n = 10) #> $plot #>  #> $text #> [1] \"50% maturity at length (L50) based on logit regressions:\\n54.754 cm. 95% confidence intervals: 54.674 - 54.818\\n  Number of specimens: 64265\\n\\n Confidence intervals estimated using 10 bootstrap replicates.\" #>  #> $params #>       mean   ci.min   ci.max  sex intercept     slope     n #> 1 54.75423 54.67441 54.81768 both -5.755492 0.1050587 64265"},{"path":"/index.html","id":"split-by-sex-1","dir":"","previous_headings":"Usage > Maturity plots","what":"Split by sex","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"","code":"plot_maturity(survey_ghl, split.by.sex = TRUE)$plot"},{"path":"/index.html","id":"a50-plots","dir":"","previous_headings":"Usage > Maturity plots","what":"A50 plots","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"principle can used produce A50 (50% maturity age) plots:","code":"plot_maturity(survey_ghl, length = \"age\", length.unit = \"years\",               xlab = \"Age\", length.bin.width = 1, split.by.sex = TRUE)$plot"},{"path":"/index.html","id":"addition-of-juveniles","dir":"","previous_headings":"Usage > Maturity plots","what":"Addition of juveniles","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Also plot_maturity() function option add juveniles (zero group fish). addition juveniles can necessary make glm() converge small immature fish scarce dataset.  Note addition increases estimate males dataset contain sufficient number young males number females seems sufficient females mature older species. One option can estimate number added juveniles using plot_catchcurve() function:","code":"plot_maturity(survey_ghl, length = \"age\", length.unit = \"years\",               xlab = \"Age\", length.bin.width = 1,                force.zero.group.length = 0,               force.zero.group.strength = 100,               split.by.sex = TRUE)$plot plot_maturity(survey_ghl, length = \"age\", length.unit = \"years\",               xlab = \"Age\", length.bin.width = 1,                force.zero.group.length = 0,               force.zero.group.n = c(\"F\" = exp(11.363), \"M\" = exp(11.885)),               split.by.sex = TRUE)$plot"},{"path":[]},{"path":"/index.html","id":"log-linearized-models","dir":"","previous_headings":"Usage > Length-weight relationships","what":"Log-linearized models","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Simple plot using log-transformation linear models default.  dashed lines represent 95% confidence intervals.","code":"plot_lw(survey_ghl, length = \"length\", weight = \"weight\") #> $plot #>  #> $text #> [1] \"Logarithm transformed linear length-weight model. Not splitted by sex:  \\n a = 0 +/- 0 - 0 (95% CIs).  \\n b = 3.221 +/- 3.22 - 3.22 (95% CIs).  \\n Number of included specimens = 67457  \\n Total number of measured = 618779  \\n Excluded (data missing): \\n Length = 0; weight = 551322\" #>  #> $params #> # A tibble: 2 × 7 #>   term    estimate std.error statistic p.value   conf.low  conf.high #>   <chr>      <dbl>     <dbl>     <dbl>   <dbl>      <dbl>      <dbl> #> 1 a     0.00000382   0.00491    -2540.       0 0.00000379 0.00000386 #> 2 b     3.22         0.00128     2519.       0 3.22       3.22"},{"path":"/index.html","id":"non-linear-least-square-models","dir":"","previous_headings":"Usage > Length-weight relationships","what":"Non-linear least square models","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Use non-linear least squares instead:","code":"plot_lw(survey_ghl, use.nls = TRUE) #> $plot #>  #> $text #> [1] \"Nonlinear least squares length-weight model. Not splitted by sex:  \\n a = 0 +/- 0 - 0 (95% CIs).  \\n b = 3.419 +/- 3.42 - 3.42 (95% CIs).  \\n Number of included specimens = 67457  \\n Total number of measured = 618779  \\n Excluded (data missing): \\n Length = 0; weight = 551322\" #>  #> $params #> # A tibble: 2 × 7 #>   term    estimate    std.error statistic p.value   conf.low  conf.high #>   <chr>      <dbl>        <dbl>     <dbl>   <dbl>      <dbl>      <dbl> #> 1 a     0.00000173 0.0000000156      110.       0 0.00000170 0.00000176 #> 2 b     3.42       0.00215          1590.       0 3.42       3.42"},{"path":"/index.html","id":"split-by-sex-2","dir":"","previous_headings":"Usage > Length-weight relationships","what":"Split by sex","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"decimal point b estimates depends length weight units. FishBase uses centimeters grams. function can correct units asked (length.unit weight.unit parameters defined correctly).  can also transform parameters according formulas given FishBase.","code":"plot_lw(survey_ghl, split.by.sex = TRUE, correct.units = TRUE) #> $plot #>  #> $text #> [1] \"Logarithm transformed linear length-weight model for females and males, respectively:  \\n a = 0.0035 +/- 0.003 - 0.004 (95% CIs) and 0.0051 +/- 0.005 - 0.005 (95% CIs).  \\n b = 3.247 +/- 3.24 - 3.25 (95% CIs) and 3.143 +/- 3.14 - 3.15 (95% CIs).  \\n Number of included specimens = 34889 and 30354  \\n Total number of measured = 618779  \\n Excluded (data missing): \\n Length = 0; weight = 456891; sex = 96645\" #>  #> $params #> # A tibble: 4 × 8 #>   sex   term  estimate std.error statistic p.value conf.low conf.high #>   <chr> <chr>    <dbl>     <dbl>     <dbl>   <dbl>    <dbl>     <dbl> #> 1 F     a      0.00350   0.00765     -739.       0  0.00344   0.00355 #> 2 F     b      3.25      0.00195     1666.       0  3.24      3.25    #> 3 M     a      0.00507   0.0101      -525.       0  0.00497   0.00517 #> 4 M     b      3.14      0.00265     1188.       0  3.14      3.15 plot_lw(survey_ghl %>% dplyr::mutate(weight = weight*1000), weight.unit = \"g\")$params #> # A tibble: 2 × 7 #>   term  estimate std.error statistic p.value conf.low conf.high #>   <chr>    <dbl>     <dbl>     <dbl>   <dbl>    <dbl>     <dbl> #> 1 a      0.00382   0.00491    -1133.       0  0.00379   0.00386 #> 2 b      3.22      0.00128     2519.       0  3.22      3.22"},{"path":"/index.html","id":"log-log-axes-to-see-differences","dir":"","previous_headings":"Usage > Length-weight relationships","what":"Log-log axes to see differences","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"","code":"plot_lw(survey_ghl, split.by.sex = TRUE, log.axes = TRUE)$plot"},{"path":"/index.html","id":"catch-curves-to-estimate-instantaneous-total-mortality-z","dir":"","previous_headings":"Usage","what":"Catch curves to estimate instantaneous total mortality (Z)","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Catch curves added version 0.2.3 may available CRAN version. FishR tutorial written Ogle (2013) contains nice explanation catch curves. time writing ggFishPlots calculates simple log-linearised regression.  ages included Z estimation can adjusted using age.range argument.  plot , -b Z (.e. Z = 0.356) exp() (.e. 68391) number 0 age fish assuming constant mortality.","code":"plot_catchcurve(survey_ghl) #> $plot #>  #> $text #> [1] \"Instantenous total mortality (Z) estimated using a catch curve and\\nage range .\\n\\nZ = 0.19 (0.123-0.257 95% CIs)\\nN at age 0 = 1448 (449-4674 95% CIs)\\nLongevity = 38.3 (23.8-68.8 95% CIs)\\n\\n\" #>  #> $params #> # A tibble: 2 × 8 #>   sex   term        estimate std.error statistic  p.value conf.low conf.high #>   <chr> <chr>          <dbl>     <dbl>     <dbl>    <dbl>    <dbl>     <dbl> #> 1 both  (Intercept)    7.28     0.573      12.7  2.25e-13    6.11      8.45  #> 2 both  age           -0.190    0.0328     -5.79 2.85e- 6   -0.257    -0.123 plot_catchcurve(survey_ghl, age.range = c(10,26))$plot"},{"path":"/index.html","id":"split-by-sex-3","dir":"","previous_headings":"Usage > Catch curves to estimate instantaneous total mortality (Z)","what":"Split by sex","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"Use named list use separate age ranges females males.  Instantenous total mortality (Z) estimated using catch curve age range 13-26 females 10-26 males. Females: Z = 0.37 (0.31-0.431 95% CIs) N age 0 = 86119 (25990-285354 95% CIs) Longevity = 30.7 (23.6-40.5 95% CIs) Males: Z = 0.511 (0.492-0.53 95% CIs) N age 0 = 145002 (105241-199785 95% CIs) Longevity = 23.3 (21.8-24.8 95% CIs)","code":"plot_catchcurve(survey_ghl, age.range = c(10,26), split.by.sex = TRUE)$plot tmp <- plot_catchcurve(survey_ghl, age.range = list(female = c(13,26), male = c(10,26)), split.by.sex = TRUE)  tmp$plot htmlcat(tmp$text)"},{"path":"/index.html","id":"citations-and-data-sources","dir":"","previous_headings":"","what":"Citations and data sources","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"data used package property Institute Marine Research Norwegian Government. distributed Creative Commons (CCBY NLOD) licenses allowing free use long source (IMR) cited. ask user refer package plots estimates used reports scientific articles. --date citation information, please use:","code":"citation(\"ggFishPlots\") #>  #> To cite package 'ggFishPlots' in publications use: #>  #>   Vihtakari M (2023). _ggFishPlots: Visualise and Calculate Life #>   History Parameters for Fisheries Science using 'ggplot2'_. R package #>   version 0.2.3, <https://github.com/DeepWaterIMR/ggFishPlots>. #>  #> A BibTeX entry for LaTeX users is #>  #>   @Manual{, #>     title = {ggFishPlots: Visualise and Calculate Life History Parameters for Fisheries Science using 'ggplot2'}, #>     author = {Mikko Vihtakari}, #>     year = {2023}, #>     note = {R package version 0.2.3}, #>     url = {https://github.com/DeepWaterIMR/ggFishPlots}, #>   }"},{"path":"/index.html","id":"contributions","dir":"","previous_headings":"","what":"Contributions","title":"Visualise and Calculate Life History Parameters for Fisheries Science using ggplot2","text":"contributions package welcome. Please contact package maintainer Mikko Vihtakari (mikko.vihtakari@hi.) discuss ideas improving package. Bug reports corrections submitted directly GitHub site. Please include minimal reproducible example. Considerable contributions package development credited authorship.","code":""}]
