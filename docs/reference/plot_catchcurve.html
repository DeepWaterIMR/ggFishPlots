<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot catch curve — plot_catchcurve • ggFishPlots</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot catch curve — plot_catchcurve"><meta property="og:description" content="Plot a catch curve to estimate instantaneous total mortality (Z) using age data"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggFishPlots</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/DeepWaterIMR/ggFishPlots/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot catch curve</h1>
    <small class="dont-index">Source: <a href="https://github.com/DeepWaterIMR/ggFishPlots/blob/HEAD/R/plot_catchcurve.R" class="external-link"><code>R/plot_catchcurve.R</code></a></small>
    <div class="hidden name"><code>plot_catchcurve.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plot a catch curve to estimate instantaneous total mortality (Z) using age data</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_catchcurve</span><span class="op">(</span></span>
<span>  <span class="va">dt</span>,</span>
<span>  age <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>  sex <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span>  age.range <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  female.sex <span class="op">=</span> <span class="st">"F"</span>,</span>
<span>  male.sex <span class="op">=</span> <span class="st">"M"</span>,</span>
<span>  split.by.sex <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  base_size <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  legend.position <span class="op">=</span> <span class="st">"bottom"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dt</dt>
<dd><p>A data.frame, tibble or data.table</p></dd>


<dt>age</dt>
<dd><p>Character argument giving the name of the age column in <code>dt</code></p></dd>


<dt>sex</dt>
<dd><p>Character argument giving the name of the sex column in <code>dt</code>. Ignored if <code>split.by.sex == FALSE</code>.</p></dd>


<dt>age.range</dt>
<dd><p>Defines the age range to be used for Z estimation. If <code>NULL</code>, all ages are used. If a numeric vector of length 2, the first number defines the minimum age to include and the last number the maximum age. It is also possible to use differring ranges by sex when <code>split.by.sex = TRUE</code>: use a named list with 'female' and 'male' as names. Provide a numeric vector of length 2 to each element. See Examples.</p></dd>


<dt>female.sex</dt>
<dd><p>A character denoting female sex in the <code>sex</code> column of <code>dt</code></p></dd>


<dt>male.sex</dt>
<dd><p>A character denoting male sex in the <code>sex</code> column of <code>dt</code></p></dd>


<dt>split.by.sex</dt>
<dd><p>Logical indicating whether the result should be split by sex.</p></dd>


<dt>base_size</dt>
<dd><p>Base size parameter for ggplot. See ggtheme.</p></dd>


<dt>legend.position</dt>
<dd><p>Position of the ggplot legend as a character. See ggtheme.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Calculates and plots the basic log-linearized catch curve to estimate instantaneous mortality. See e.g. <a href="https://www.fishbase.se/manual/english/FishBaseThe_LENGTH_WEIGHT_Table.htm" class="external-link">Ogle (2013)</a>.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Mikko Vihtakari // Institute of Marine Research.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Catch curve including all ages</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">survey_ghl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_catchcurve</span><span class="op">(</span><span class="va">survey_ghl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $plot</span>
<span class="r-plt img"><img src="plot_catchcurve-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $text</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Instantenous total mortality (Z) estimated using a catch curve and\nage range .\n\nZ = 0.19 (0.123-0.257 95% CIs)\nN at age 0 = 1448 (449-4674 95% CIs)\nLongevity = 38.3 (23.8-68.8 95% CIs)\n\n"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sex   term        estimate std.error statistic  p.value conf.low conf.high</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> both  (Intercept)    7.28     0.573      12.7  2.25<span style="color: #949494;">e</span><span style="color: #BB0000;">-13</span>    6.11      8.45 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> both  age           -<span style="color: #BB0000;">0.190</span>    0.032<span style="text-decoration: underline;">8</span>     -<span style="color: #BB0000;">5.79</span> 2.85<span style="color: #949494;">e</span><span style="color: #BB0000;">- 6</span>   -<span style="color: #BB0000;">0.257</span>    -<span style="color: #BB0000;">0.123</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Specific ages</span></span></span>
<span class="r-in"><span><span class="fu">plot_catchcurve</span><span class="op">(</span><span class="va">survey_ghl</span>, age.range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">26</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $plot</span>
<span class="r-plt img"><img src="plot_catchcurve-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $text</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Instantenous total mortality (Z) estimated using a catch curve and\nage range 10-26.\n\nZ = 0.356 (0.312-0.401 95% CIs)\nN at age 0 = 68394 (29985-156005 95% CIs)\nLongevity = 31.2 (25.7-38.3 95% CIs)\n\n"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sex   term        estimate std.error statistic  p.value conf.low conf.high</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> both  (Intercept)   11.1      0.387       28.8 1.54<span style="color: #949494;">e</span><span style="color: #BB0000;">-14</span>   10.3      12.0  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> both  age           -<span style="color: #BB0000;">0.356</span>    0.020<span style="text-decoration: underline;">7</span>     -<span style="color: #BB0000;">17.2</span> 2.81<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>   -<span style="color: #BB0000;">0.401</span>    -<span style="color: #BB0000;">0.312</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># Split by sex</span></span></span>
<span class="r-in"><span><span class="fu">plot_catchcurve</span><span class="op">(</span><span class="va">survey_ghl</span>, age.range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">26</span><span class="op">)</span>, split.by.sex <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $plot</span>
<span class="r-plt img"><img src="plot_catchcurve-3.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $text</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Instantenous total mortality (Z) estimated using a catch curve and\nage range 10-26 for both sexes.\n\nFemales:\nZ = 0.31 (0.256-0.365 95% CIs)\nN at age 0 = 23925 (8625-66368 95% CIs)\nLongevity = 32.5 (24.8-43.4 95% CIs)\n\nMales:\nZ = 0.511 (0.492-0.53 95% CIs)\nN at age 0 = 145002 (105241-199785 95% CIs)\nLongevity = 23.3 (21.8-24.8 95% CIs)\n\n"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sex   term        estimate std.error statistic  p.value conf.low conf.high</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> F     (Intercept)   10.1     0.479        21.1 1.49<span style="color: #949494;">e</span><span style="color: #BB0000;">-12</span>    9.06     11.1  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> F     age           -<span style="color: #BB0000;">0.310</span>   0.025<span style="text-decoration: underline;">7</span>      -<span style="color: #BB0000;">12.1</span> 3.87<span style="color: #949494;">e</span><span style="color: #BB0000;">- 9</span>   -<span style="color: #BB0000;">0.365</span>    -<span style="color: #BB0000;">0.256</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> M     (Intercept)   11.9     0.147        80.8 8.62<span style="color: #949494;">e</span><span style="color: #BB0000;">-18</span>   11.6      12.2  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> M     age           -<span style="color: #BB0000;">0.511</span>   0.008<span style="text-decoration: underline;">66</span>     -<span style="color: #BB0000;">59.0</span> 3.72<span style="color: #949494;">e</span><span style="color: #BB0000;">-16</span>   -<span style="color: #BB0000;">0.530</span>    -<span style="color: #BB0000;">0.492</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># Split by sex, separate age.range</span></span></span>
<span class="r-in"><span><span class="fu">plot_catchcurve</span><span class="op">(</span><span class="va">survey_ghl</span>,</span></span>
<span class="r-in"><span>age.range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>female <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>,<span class="fl">26</span><span class="op">)</span>, male <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">26</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>split.by.sex <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $plot</span>
<span class="r-plt img"><img src="plot_catchcurve-4.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $text</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Instantenous total mortality (Z) estimated using a catch curve and\nage range 13-26 for females and 10-26 for males.\n\nFemales:\nZ = 0.37 (0.31-0.431 95% CIs)\nN at age 0 = 86119 (25990-285354 95% CIs)\nLongevity = 30.7 (23.6-40.5 95% CIs)\n\nMales:\nZ = 0.511 (0.492-0.53 95% CIs)\nN at age 0 = 145002 (105241-199785 95% CIs)\nLongevity = 23.3 (21.8-24.8 95% CIs)\n\n"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   sex   term        estimate std.error statistic  p.value conf.low conf.high</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> F     (Intercept)   11.4     0.550        20.7 9.51<span style="color: #949494;">e</span><span style="color: #BB0000;">-11</span>   10.2      12.6  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> F     age           -<span style="color: #BB0000;">0.370</span>   0.027<span style="text-decoration: underline;">6</span>      -<span style="color: #BB0000;">13.4</span> 1.38<span style="color: #949494;">e</span><span style="color: #BB0000;">- 8</span>   -<span style="color: #BB0000;">0.431</span>    -<span style="color: #BB0000;">0.310</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> M     (Intercept)   11.9     0.147        80.8 8.62<span style="color: #949494;">e</span><span style="color: #BB0000;">-18</span>   11.6      12.2  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> M     age           -<span style="color: #BB0000;">0.511</span>   0.008<span style="text-decoration: underline;">66</span>     -<span style="color: #BB0000;">59.0</span> 3.72<span style="color: #949494;">e</span><span style="color: #BB0000;">-16</span>   -<span style="color: #BB0000;">0.530</span>    -<span style="color: #BB0000;">0.492</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Mikko Vihtakari.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

