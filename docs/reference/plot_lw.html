<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot length-weight relationships — plot_lw • ggFishPlots</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot length-weight relationships — plot_lw"><meta property="og:description" content="Plot length-weight relationships"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggFishPlots</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/DeepWaterIMR/ggFishPlots/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot length-weight relationships</h1>
    <small class="dont-index">Source: <a href="https://github.com/DeepWaterIMR/ggFishPlots/blob/HEAD/R/plot_lw.R" class="external-link"><code>R/plot_lw.R</code></a></small>
    <div class="hidden name"><code>plot_lw.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plot length-weight relationships</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_lw</span><span class="op">(</span></span>
<span>  <span class="va">dt</span>,</span>
<span>  length <span class="op">=</span> <span class="st">"length"</span>,</span>
<span>  weight <span class="op">=</span> <span class="st">"weight"</span>,</span>
<span>  sex <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span>  female.sex <span class="op">=</span> <span class="st">"F"</span>,</span>
<span>  male.sex <span class="op">=</span> <span class="st">"M"</span>,</span>
<span>  length.unit <span class="op">=</span> <span class="st">"cm"</span>,</span>
<span>  weight.unit <span class="op">=</span> <span class="st">"kg"</span>,</span>
<span>  split.by.sex <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Total length"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Weight"</span>,</span>
<span>  use.nls <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  init.a <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  init.b <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  log.axes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  base_size <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>  correct.units <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dt</dt>
<dd><p>A data.frame, tibble or data.table</p></dd>


<dt>length</dt>
<dd><p>Character argument giving the name of the length column in <code>dt</code></p></dd>


<dt>weight</dt>
<dd><p>Character argument giving the name of the age column in <code>dt</code></p></dd>


<dt>sex</dt>
<dd><p>Character argument giving the name of the sex column in <code>dt</code>. Ignored if <code>split.by.sex == FALSE</code>.</p></dd>


<dt>female.sex</dt>
<dd><p>A character denoting female sex in the <code>sex</code> column of <code>dt</code></p></dd>


<dt>male.sex</dt>
<dd><p>A character denoting male sex in the <code>sex</code> column of <code>dt</code></p></dd>


<dt>length.unit</dt>
<dd><p>Character argument giving the unit of <code>length</code>. Will be used in the labels of the figure and for conversion of the a parameter. Allowed values for the conversion: "mm" (millimmeters), "cm" (centimeters), and "m" (meters).</p></dd>


<dt>weight.unit</dt>
<dd><p>Character argument giving the unit of <code>weight</code>. Will be used in the labels of the figure and for conversion of the a parameter. Allowed values: "g" (grams), "kg" (kilograms), and "t" (metric tons).</p></dd>


<dt>split.by.sex</dt>
<dd><p>Logical indicating whether the result should be split by sex.</p></dd>


<dt>xlab</dt>
<dd><p>Character giving the x-axis label without unit</p></dd>


<dt>ylab</dt>
<dd><p>Character giving the x-axis label without unit.</p></dd>


<dt>use.nls</dt>
<dd><p>Logical indicating whether the parameters should be calculated using the nonlinear least squares (<code>nls; TRUE</code>) method over the log-log transformed linear model (<code>lm; FALSE</code>) method.</p></dd>


<dt>init.a, init.b</dt>
<dd><p>Numeric values giving the starting value for a and b parameters respecitively for non-linear least-squares estimation (i.e. when <code>use.nls = TRUE</code>). If <code>NULL</code>, default values are guessed.</p></dd>


<dt>log.axes</dt>
<dd><p>Logical indicating whether logarithmic axes should be used instead of cartesian ones.</p></dd>


<dt>base_size</dt>
<dd><p>Base size parameter for ggplot. See ggtheme.</p></dd>


<dt>legend.position</dt>
<dd><p>Position of the ggplot legend as a character. See ggtheme.</p></dd>


<dt>correct.units</dt>
<dd><p>Logical indicating whether a and b parameters should be converted for centimeters and grams as in FishBase.</p></dd>


<dt>verbose</dt>
<dd><p>Logical indicating whether to return warnings and messages.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A ggplot together with the a and b parameters.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>It is crucial to get the units right when calculating length-weight relationships. In models, the length and weight units should often match those of the data going into the model, while in comparisons with FishBase, the units of length and weight should be centimetres and grams, respectively. If the units are wrong, the intercept, a, will be off the FishBase scale by orders of magnitude (see <a href="https://www.fishbase.se/manual/english/FishBaseThe_LENGTH_WEIGHT_Table.htm" class="external-link">FishBase</a>). If <code>correct.units = TRUE</code>, <code>plot_lw()</code> attempts to correct for the units to the FishBase standard (cm and g). The function also returns a warning when the returned parameters are not within expected bounds for cm and g estimation. You can ignore this warning if you want to estimate values. Comparing your a and b with those in FishBase for the species is a good idea. This function may contain bugs.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Mikko Vihtakari // Institute of Marine Research.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">survey_ghl</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simple plot</span></span></span>
<span class="r-in"><span><span class="fu">plot_lw</span><span class="op">(</span><span class="va">survey_ghl</span>, length <span class="op">=</span> <span class="st">"length"</span>, weight <span class="op">=</span> <span class="st">"weight"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $plot</span>
<span class="r-plt img"><img src="plot_lw-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $text</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Logarithm transformed linear length-weight model. Not splitted by sex:  \n a = 0 +/- 0 - 0 (95% CIs).  \n b = 3.221 +/- 3.22 - 3.22 (95% CIs).  \n Number of included specimens = 67457  \n Total number of measured = 618779  \n Excluded (data missing): \n Length = 0; weight = 551322"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   term    estimate std.error statistic p.value   conf.low  conf.high</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> a     0.000<span style="text-decoration: underline;">003</span>82   0.004<span style="text-decoration: underline;">91</span>    -<span style="color: #BB0000; text-decoration: underline;">2</span><span style="color: #BB0000;">540.</span>       0 0.000<span style="text-decoration: underline;">003</span>79 0.000<span style="text-decoration: underline;">003</span>86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> b     3.22         0.001<span style="text-decoration: underline;">28</span>     <span style="text-decoration: underline;">2</span>519.       0 3.22       3.22      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Split by sex</span></span></span>
<span class="r-in"><span><span class="fu">plot_lw</span><span class="op">(</span><span class="va">survey_ghl</span>, split.by.sex <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="va">plot</span></span></span>
<span class="r-plt img"><img src="plot_lw-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Mikko Vihtakari.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

